"use strict";angular.module("WDWeb").directive("wdxNavElements",["homeService","$location","$rootScope","$localStorage","wdService","leftNavService","$route","$timeout",function(e,n,c,s,t,a,o,r){return{restrict:"A",replace:!0,scope:{type:"="},templateUrl:"./WDWEB/shared/navElements/subMenu.html",link:function(i,e,t){i.bmkMessage=i.$parent.bmkMessage,i.favMMessage=i.$parent.favMMessage,i.wkMessage=i.$parent.wkMessage,i.ffMessage=i.$parent.ffMessage,i.ttlLeftMenu=" ",i.$on("setAnchor",function(e,t){i.selected=t.data}),i.leftMenuView={scrollByContent:!0,scrollByThumb:!0,showScrollbar:"always",useNative:!0},i.wdFilterBox={placeholder:"Filter",elementAttr:{},onEnterKey:function(e){i.textValue=e.event.target.value},showClearButton:!0},i.wdFilterSideBtn={icon:"ms-Icon ms-Icon--Accept",onClick:function(e){var t=$("#wdFilterCabinet").dxTextBox("instance");i.textValue=t.option("value")},elementAttr:{class:"wdFilterSideBtn"}},i.selectMenu=function(e,t,a){var n;i.selected=e,"fm"===t?(n=$("#leftNav").dxResizable("instance"),$("#wdFavMatterPanel").css("left",n.option("width")),c.$broadcast("favMatterCheckPanel",{li:e,items:i.$parent.favMatters})):"wk"===t?(n=$("#leftNav").dxResizable("instance"),$("#wdWorkspacePanel").css("left",n.option("width")),s.wdNavlIst={wdlist:a,rec:e["Rec#"]},c.$broadcast("workSpacePanel",{show:!0,data:e,listId:a})):(n=$("#leftNav").dxResizable("instance"),$("#wdCabinetPanel").css("left",n.option("width")),c.$broadcast("cabinetCheckPanel",{show:!0,data:e,pgID:encodeURIComponent(e.basepath)}))},i.setListId=function(e,t){return t+e},i.listPreLoader={width:16,height:16,visible:!1},i.setSelected=function(e){i.selected=e},i.goTo=function(e,n,s,t){switch(c.$broadcast("setWDGridLoader"),angular.forEach(t,function(e,t){var a=$("#"+n+t).dxLoadIndicator("instance");t===s?a.option("visible",!0):a.option("visible",!1)}),i.setUrl(e,$("#"+n+s).dxLoadIndicator("instance")),$(window).width()<=1024&&(c.leftMenuAction=!c.leftMenuAction,i.$parent.$parent.selectedTab=""),n){case"bm":i.$parent.bkMarks="";break;case"fm":i.$parent.matters="";break;case"ws":i.$parent.wkSpaces="";break;case"ff":i.$parent.fav="";break;default:console.log("data")}},i.setUrl=function(e,t){var a=n.search();s.isOpeningDocPanel=!1,r(function(){a.query!==e.Loc?n.path("/home").search({query:e.Loc}):o.reload(),t.option("visible",!1)},1e3)},i.isActive=function(e){return i.selected===e},i.getCabinet=function(e){var t=$("#leftNav").dxResizable("instance");i.selected=e,$("#wdCabinetPanel").css("left",t.option("width")),c.$broadcast("cabinetEvent",{show:!0,data:e,pgID:encodeURIComponent(e.basepath)})},i.getMenuFavMatters=function(e){var t=$("#leftNav").dxResizable("instance");i.selected=e,$("#wdFavMatterPanel").css("left",t.option("width")),c.$broadcast("favMattersEvent",{li:e,items:i.$parent.favMatters})},i.getWorkSpace=function(e,t){var a=$("#leftNav").dxResizable("instance");i.selected=e,$("#wdWorkspacePanel").css("left",a.option("width")),i.ckListData(e,t)},i.ckListData=function(e,t){s.wdNavlIst={wdlist:t,rec:e["Rec#"]},c.$broadcast("workspaceEvent",{show:!0,data:e,listId:t})},i.hoverMenuList=function(e){var t=e.currentTarget.parentElement;t.scrollWidth>t.clientWidth?i.ttlLeftMenu="str":i.ttlLeftMenu=" "}}}}]);